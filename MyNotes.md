# My Notes

## Part 2 

* Database Setup
  * changed mysite/settings.py, timezone configuration.
  * Creating models: in our simple poll app we'll ceate two models: 
    * Question: has a question **text** and a publication date.
    * Choice: has the text of choice and a vote tally.
      **Each Choice is associated with a Question**

* Activating Models: 
  To include the app in our project, we need to add a reference to its configuration 
class in the INSTALLED_APPS setting. The **PollsConfig** class is in the 
**polls/apps.py** file, so its dotted path is **'polls.PollsConfig'**.

# Use generic views: Less code is better:

`
def index(request):
    latest_question_list = Question.objects.order_by('-pub_date')[:5]
    context = {
        'latest_question_list': latest_question_list,
    }
    return render(request, 'polls/index.html', context)


def detail(request, question_id):
    # getting data from the database according to a parameter passed in the URL, 
    # loading a template and returning the rendered template.
    question = get_object_or_404(Question, pk=question_id)
    # loading a template and returning the rendered template.
    return render(request, 'polls/detail.html', {'question': question})


def results(request, question_id):
    question = get_object_or_404(Question, pk=question_id)
    return render(request, 'polls/results.html', {'question': question})

`
... 
> These views represent a common case of basic Web development: **getting data from 
the database according to a parameter passed in the URL, loading a template and 
returning the rendered template.** Because this is so common, Django provides a 
shortcut, called the “generic views” system.

_getting data from the database according to a parameter passed in the URL, loading a 
template and returning the rendered template._ happens when the URLConfs get 
consulted, and parsed, and a URL match is found ==> the django system goes to load the 
appropriate view, and finds that it points to the template, so it sends the 
HttpRequest together with the parameter to the tmeplate, which generates the 
response!

Generic views abstract common patterns to the point where you don’t even need to write 
Python code to write an app.

Let’s convert our poll app to use the generic views system, so we can delete a bunch 
of our own code. We’ll just have to take a few steps to make the conversion. We will:

    1. Convert the URLconf.
    2. Delete some of the old, unneeded views.
    3. Introduce new views based on Django’s generic views.

> By default, the **DetailView generic view uses a template called **<app name>/model 
name>_detail.html**, in our case, it would use the template 
"**polls/question_detail.html**". The **template_name** attribute is used to tell 
Django to use a specific template name instead of the autogenerated default template 
name.
